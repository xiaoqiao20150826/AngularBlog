<meta charset="utf-8">
<div class='container col-sm-8 col-sm-offset-2'>

	<hr style='margin: 0; padding:0; border: thin dashed black'>
	<div data-toggle="collapse" data-target="#category">
		<a href="javascrip:">
			<h4>category&nbsp;<span class="caret"></span>
			</h4>
		</a>
	</div>
	<hr style='margin: 0; padding:0; border: thin dashed black'>
	<div class='row col-sm-offset-1 collapse in' id ="category">
		<div>
			<%
			var scriptletUtil = blog.scriptletUtil 
			  , rootOfCategoryTree = blog.rootOfCategoryTree
			 
			scriptletUtil.treeEach(rootOfCategoryTree, 'categories', eachFn, eachNodesBefore, eachNodesAfter);
			function eachNodesBefore(parentCategory, parentDeep) {
				var indentifier = parentCategory.id + (parentDeep)
			%>
			<div class="row col-sm-offset-1 collapse in category-<%=indentifier%>">
			<%
			}
				function eachFn(category, deep, hasChild) {
				    var indentifier = category.id + deep
				%>
				
					<a href="javascrip:">		
					<h6>
						<a class="blogCategory" href="javascirpt:" data-id="<%=category.id%>" >
							<%=category.title%>
							<span class="badge"><%=category.postCount %></span> 
						</a>
						
						<%
						if(hasChild) {
						%>
						<a data-toggle="collapse" data-target=".category-<%=indentifier%>" href="javascrip:">
						&nbsp;&nbsp;&nbsp;<span class="caret"></span>
						</a>
						<% } %>
						
					</h6>
					</a>
				<%
				}
			function eachNodesAfter() {
			%>
			</div>
			<%
			}
			%>
			
		</div>
	</div>
</div>